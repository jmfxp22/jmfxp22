<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anotai — Clone (Protótipo)</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffffff;
      --text:#0f1724;
      --muted:#6b7280;
      --accent:#075985; /* azul forte */
      --accent-2:#0ea5e9; /* azul claro */
      --card:#f8fafc;
      --glass: rgba(14,165,233,0.08);
      --success:#10b981;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--text);
      -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
      line-height:1.4;
    }
    .container{max-width:1120px;margin:28px auto;padding:22px;}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      display:flex;align-items:center;justify-content:center;
      width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,var(--accent),var(--accent-2));color:white;font-weight:800;
      box-shadow: 0 6px 20px rgba(3,105,161,0.12);
    }
    h1{font-size:20px;margin:0}
    nav{display:flex;gap:8px}
    button, .btn {
      font-weight:600;border:1px solid rgba(7,89,133,0.12);
      background:white;color:var(--accent);padding:8px 12px;border-radius:10px;cursor:pointer;
    }
    .btn-primary{background:var(--accent);color:white;border:none;box-shadow:0 8px 24px rgba(14,165,233,0.12)}
    .hero{margin-top:18px;padding:22px;border-radius:16px;border:1px solid rgba(14,165,233,0.08);background:linear-gradient(180deg, rgba(14,165,233,0.03), transparent);}
    .grid{display:grid;gap:16px}
    .cols-3{grid-template-columns:repeat(3,1fr)}
    .card{background:var(--card);border-radius:12px;padding:14px;border:1px solid rgba(2,6,23,0.04)}
    .plan-title{font-weight:700}
    .price{font-weight:800;font-size:20px;color:var(--accent)}
    .features{font-size:13px;color:var(--muted);margin-top:8px}
    .card-row{display:flex;gap:12px;align-items:center}
    .product{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid rgba(2,6,23,0.03)}
    .cart{min-height:80px;padding:12px;border-radius:8px;border:1px dashed rgba(6,78,117,0.06);background:white}
    .muted{color:var(--muted)}
    .badge{display:inline-block;padding:6px 8px;border-radius:999px;background:var(--glass);color:var(--accent);font-weight:700}
    input, select, textarea{padding:10px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);width:100%;font-family:inherit}
    .row{display:flex;gap:12px}
    .col-2{flex:1}
    .small{font-size:13px}
    footer{margin-top:22px;color:var(--muted);font-size:13px}
    .manager-grid{display:grid;grid-template-columns:2fr 1fr;gap:16px}
    table{width:100%;border-collapse:collapse}
    table td, table th{padding:8px;border-bottom:1px solid rgba(2,6,23,0.04);font-size:14px}
    .text-right{text-align:right}
    .text-center{text-align:center}
    .success-screen{padding:18px;border-radius:12px;border:1px solid rgba(16,185,129,0.08);background:linear-gradient(180deg, rgba(16,185,129,0.03), transparent);text-align:center}
    .pill{padding:6px 10px;border-radius:999px;border:1px solid rgba(7,89,133,0.08);background:white}
    .link{color:var(--accent);text-decoration:none;font-weight:600}
    @media (max-width:900px){
      .cols-3{grid-template-columns:1fr}
      .manager-grid{grid-template-columns:1fr}
      header{flex-direction:column;align-items:flex-start;gap:10px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">A</div>
        <div>
          <h1>Anotai — Painel</h1>
          <div class="small muted">Protótipo público — white & blue design</div>
        </div>
      </div>
      <nav>
        <button id="nav-home" class="btn">Home</button>
        <button id="nav-manager" class="btn">Gerente</button>
        <button id="nav-create" class="btn">Criar Site</button>
      </nav>
    </header>

    <main id="app">
      <!-- HERO / Landing -->
      <section id="view-landing" class="hero">
        <div class="row" style="align-items:center;justify-content:space-between">
          <div>
            <div class="badge">Novo</div>
            <h2 style="margin:6px 0 4px">Automatize pedidos e entregue mais</h2>
            <div class="muted">Cardápio digital, WhatsApp bot, painel de gerente e emissão inicial de nota (mock).</div>
          </div>
          <div class="pill small">Suporte: <a class="link" href="https://wa.me/5521971021368" target="_blank">+55 21 97102-1368</a></div>
        </div>

        <div style="margin-top:18px" class="grid cols-3">
          <!-- Plans -->
          <div class="card">
            <div class="plan-title">Starter</div>
            <div class="price">R$ 29,90 / mês</div>
            <div class="features">Cardápio digital • WhatsApp • Suporte</div>
            <div style="margin-top:12px">
              <button class="btn btn-primary" data-plan='{"name":"Starter","price":29.90}'>Assinar</button>
            </div>
          </div>

          <div class="card">
            <div class="plan-title">Pro</div>
            <div class="price">R$ 59,90 / mês</div>
            <div class="features">Starter + Painel de pedidos • Relatórios</div>
            <div style="margin-top:12px">
              <button class="btn btn-primary" data-plan='{"name":"Pro","price":59.90}'>Assinar</button>
            </div>
          </div>

          <div class="card">
            <div class="plan-title">Enterprise</div>
            <div class="price">R$ 129,90 / mês</div>
            <div class="features">Marca própria • Suporte prioritário</div>
            <div style="margin-top:12px">
              <button class="btn btn-primary" data-plan='{"name":"Enterprise","price":129.90}'>Assinar</button>
            </div>
          </div>
        </div>

        <!-- Menu & Cart -->
        <div style="margin-top:18px" class="grid" >
          <div class="card-row">
            <div style="flex:2" class="card">
              <h3 style="margin:0 0 8px">Cardápio</h3>
              <div id="products"></div>
            </div>

            <div style="flex:1" class="card">
              <h3 style="margin:0 0 8px">Carrinho</h3>
              <div id="cart" class="cart"></div>
              <div style="margin-top:12px;display:flex;gap:8px">
                <button id="btn-checkout" class="btn btn-primary">Finalizar pedido</button>
                <button id="btn-clear-cart" class="btn">Limpar</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CHECKOUT -->
      <section id="view-checkout" style="display:none;margin-top:18px">
        <div class="card">
          <h2 style="margin-top:0">Checkout</h2>
          <div class="grid" style="grid-template-columns:1fr 320px; gap:16px">
            <div>
              <div style="display:grid;gap:8px">
                <label>Nome completo*</label>
                <input id="c-name" placeholder="Nome do cliente">

                <div class="row">
                  <div class="col-2">
                    <label>Rua*</label>
                    <input id="c-street" placeholder="Rua">
                  </div>
                  <div style="width:120px">
                    <label>Número*</label>
                    <input id="c-number" placeholder="Nº">
                  </div>
                </div>

                <label>Ponto de referência</label>
                <input id="c-ref" placeholder="Ponto de referência (opcional)">

                <div class="row">
                  <div class="col-2">
                    <label>Cidade*</label>
                    <input id="c-city" placeholder="Cidade">
                  </div>
                  <div style="width:160px">
                    <label>Telefone*</label>
                    <input id="c-phone" placeholder="(DD) 9xxxx-xxxx">
                  </div>
                </div>

                <label>Forma de pagamento</label>
                <select id="c-payment">
                  <option value="pix">PIX (na hora)</option>
                  <option value="card">Cartão (simulado)</option>
                  <option value="cash">Dinheiro</option>
                </select>

                <div style="margin-top:12px;display:flex;gap:8px">
                  <button id="confirm-pay" class="btn btn-primary">Pagar</button>
                  <button id="back-to-home" class="btn">Voltar</button>
                </div>
              </div>
            </div>

            <div class="card">
              <h4 style="margin:0 0 8px">Resumo do pedido</h4>
              <div id="checkout-items" style="max-height:260px;overflow:auto"></div>
              <div style="margin-top:12px;font-weight:800">Total: R$ <span id="checkout-total">0.00</span></div>
            </div>
          </div>
        </div>
      </section>

      <!-- PAYMENT SUCCESS -->
      <section id="view-success" style="display:none;margin-top:18px">
        <div class="success-screen">
          <h2>Compra efetuada com sucesso!</h2>
          <p style="margin:8px 0" class="muted">Para ativar sua loja/plano envie o comprovante para o número de suporte abaixo.</p>
          <div style="margin-top:10px">
            <a id="wa-proof" class="btn btn-primary" target="_blank" rel="noreferrer">Enviar comprovante (WhatsApp)</a>
          </div>
          <div style="margin-top:8px" class="small muted">Ou envie manualmente para: <a class="link" href="https://wa.me/5521971021368" target="_blank">+55 21 97102-1368</a></div>
          <div style="margin-top:14px">
            <button id="go-manager" class="btn">Ir para o painel do gerente</button>
            <button id="back-home-2" class="btn">Voltar à home</button>
          </div>
        </div>
      </section>

      <!-- CREATE SITE -->
      <section id="view-create" style="display:none;margin-top:18px">
        <div class="card">
          <h2 style="margin-top:0">Criar site para sua loja</h2>
          <p class="muted">Escolha um slug. Em um sistema com backend esse slug geraria uma página pública com seu cardápio.</p>
          <div style="display:flex;gap:8px;margin-top:8px">
            <input id="store-slug" placeholder="meu-mercado">
            <button id="create-store" class="btn btn-primary">Criar</button>
          </div>
          <div id="store-created" style="margin-top:12px;display:none"></div>
          <div class="small muted" style="margin-top:12px">Observação: deploy automático requer backend + host (Vercel/Netlify/S3).</div>
        </div>
      </section>

      <!-- MANAGER -->
      <section id="view-manager" style="display:none;margin-top:18px">
        <div class="card">
          <h2 style="margin-top:0">Painel do Gerente</h2>
          <div style="display:flex;gap:8px;margin-bottom:10px;align-items:center">
            <input id="search-id" placeholder="Pesquisar por ID" style="width:320px">
            <button id="btn-search" class="btn">Buscar</button>
            <button id="btn-export" class="btn">Exportar DB (JSON)</button>
            <div style="margin-left:auto" class="muted">Pedidos: <span id="total-orders">0</span> • Vendas: R$ <span id="total-sales">0.00</span></div>
          </div>

          <div class="manager-grid">
            <div class="card" style="max-height:420px;overflow:auto">
              <h4 style="margin:0 0 8px">Pedidos recentes</h4>
              <table id="orders-table">
                <thead><tr><th>ID</th><th>Cliente</th><th>Cidade</th><th class="text-right">Total</th><th></th></tr></thead>
                <tbody></tbody>
              </table>
            </div>

            <div class="card">
              <h4 style="margin:0 0 8px">Detalhes / Fiscal</h4>
              <div class="small muted">Cole o ID e gere uma nota fiscal mock (para produção, integrar com Bling, NFe.io, etc.).</div>
              <div style="margin-top:8px">
                <input id="detail-id" placeholder="ORD-...">
                <div style="margin-top:8px;display:flex;gap:8px">
                  <button id="btn-open" class="btn">Abrir</button>
                  <button id="btn-nf" class="btn">Gerar NF (mock)</button>
                </div>
              </div>

              <div style="margin-top:18px">
                <h5 style="margin:0 0 8px">Relatórios rápidos</h5>
                <div class="small muted">Vendas totais: R$ <span id="report-sales">0.00</span></div>
                <div class="small muted">Pedidos totais: <span id="report-count">0</span></div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <footer>
        Protótipo — para transformar em serviço real você precisa de: backend (Node/Express), banco (Postgres/SQLite), gateway de pagamentos (Stripe/MercadoPago) e integração de NF-e.
      </footer>
    </main>
  </div>

<script>
/* ---------- Data & util ---------- */
const SUPPORT_PHONE = '5521971021368'; // +55 21 97102-1368 (no wa.me format)
const STORAGE_KEY = 'anotai_orders_v2';

function genId(){
  const now = Date.now().toString(36);
  const rnd = Math.floor(Math.random()*1e6).toString(36);
  return ('ORD-' + now + '-' + rnd).toUpperCase();
}

function loadOrders(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]') }catch(e){return []}}
function saveOrders(arr){ localStorage.setItem(STORAGE_KEY, JSON.stringify(arr)) }

/* ---------- Initial products ---------- */
const defaultProducts = [
  { id:'p1', name:'Pizza Margherita', price:28.50 },
  { id:'p2', name:'X-Burger', price:18.00 },
  { id:'p3', name:'Refrigerante 350ml', price:6.50 },
  { id:'p4', name:'Porção de Batata', price:12.00 },
  { id:'p5', name:'Açai 500ml', price:16.00 }
];

/* ---------- App state ---------- */
let cart = [];
let orders = loadOrders();
let currentPlan = null;

/* ---------- DOM ---------- */
const view = {
  landing: document.getElementById('view-landing'),
  checkout: document.getElementById('view-checkout'),
  success: document.getElementById('view-success'),
  manager: document.getElementById('view-manager'),
  create: document.getElementById('view-create')
};

function showView(name){
  Object.values(view).forEach(v=>v.style.display='none');
  view[name].style.display = '';
  if(name==='manager') renderOrders();
  if(name==='checkout') renderCheckout();
}

document.getElementById('nav-home').addEventListener('click', ()=>showView('landing'));
document.getElementById('nav-manager').addEventListener('click', ()=>showView('manager'));
document.getElementById('nav-create').addEventListener('click', ()=>showView('create'));

/* ---------- Render products ---------- */
function renderProducts(){
  const root = document.getElementById('products');
  root.innerHTML = '';
  defaultProducts.forEach(p=>{
    const el = document.createElement('div');
    el.className = 'product';
    el.innerHTML = `
      <div>
        <div style="font-weight:700">${p.name}</div>
        <div class="small muted">R$ ${p.price.toFixed(2)}</div>
      </div>
      <div style="display:flex;align-items:center;gap:8px">
        <button class="btn" data-action="dec" data-id="${p.id}">-</button>
        <div class="small" id="qty-${p.id}">${(cart.find(x=>x.id===p.id)||{qty:0}).qty}</div>
        <button class="btn btn-primary" data-action="add" data-id="${p.id}">+</button>
      </div>
    `;
    root.appendChild(el);
  });
}
document.getElementById('products').addEventListener('click', (ev)=>{
  const btn = ev.target.closest('button');
  if(!btn) return;
  const action = btn.dataset.action;
  const id = btn.dataset.id;
  const prod = defaultProducts.find(p=>p.id===id);
  if(action==='add'){ addToCart(prod) }
  if(action==='dec'){ changeQty(id, -1) }
});

function addToCart(product){
  const found = cart.find(x=>x.id===product.id);
  if(found) found.qty++;
  else cart.push({ ...product, qty:1 });
  renderCart();
  renderProducts();
}
function changeQty(id, delta){
  cart = cart.map(x=> x.id===id ? {...x, qty: Math.max(0, x.qty + delta)} : x).filter(x=>x.qty>0);
  renderCart();
  renderProducts();
}
function renderCart(){
  const el = document.getElementById('cart');
  if(cart.length===0){ el.innerHTML = '<div class="muted">Carrinho vazio</div>'; document.getElementById('btn-checkout').disabled=false; return; }
  el.innerHTML = '';
  cart.forEach(item=>{
    const row = document.createElement('div');
    row.style.display='flex';row.style.justifyContent='space-between';row.style.alignItems='center';row.style.padding='6px 0';
    row.innerHTML = `<div>${item.name} x ${item.qty}</div>
      <div style="display:flex;gap:6px;align-items:center">
        <div>R$ ${(item.price*item.qty).toFixed(2)}</div>
        <button class="btn" data-action="dec" data-id="${item.id}">-</button>
        <button class="btn" data-action="inc" data-id="${item.id}">+</button>
      </div>`;
    el.appendChild(row);
  });
  const total = document.createElement('div'); total.style.marginTop='10px'; total.style.fontWeight='800';
  total.textContent = 'Total: R$ ' + cart.reduce((s,i)=>s + i.price*i.qty,0).toFixed(2);
  el.appendChild(total);
}
document.getElementById('cart').addEventListener('click', (ev)=>{
  const btn = ev.target.closest('button');
  if(!btn) return;
  const id = btn.dataset.id; const act = btn.dataset.action;
  if(act==='dec') changeQty(id, -1);
  if(act==='inc') changeQty(id, +1);
});

/* ---------- Cart controls ---------- */
document.getElementById('btn-clear-cart').addEventListener('click', ()=>{ cart=[]; renderCart(); renderProducts(); });
document.getElementById('btn-checkout').addEventListener('click', ()=>{ showView('checkout'); });

/* ---------- Plan buttons (assinar) ---------- */
document.querySelectorAll('.card .btn-primary').forEach(b=>{
  const plan = b.dataset.plan ? JSON.parse(b.dataset.plan) : null;
  if(!plan) return;
  b.addEventListener('click', ()=> {
    currentPlan = plan;
    // add a "virtual product" to cart representing plan if user wants
    cart = [{ id: 'plan-' + plan.name.toLowerCase(), name: 'Plano ' + plan.name, price: plan.price, qty: 1}];
    renderCart(); renderProducts();
    showView('checkout');
  });
});

/* ---------- Checkout render & validate ---------- */
function renderCheckout(){
  const itemsRoot = document.getElementById('checkout-items');
  itemsRoot.innerHTML = '';
  const list = cart.length ? cart : [{ id:'none', name: currentPlan ? 'Plano '+currentPlan.name : 'Pedido vazio', qty:1, price: currentPlan ? currentPlan.price : 0 }];
  list.forEach(i=>{
    const el = document.createElement('div');
    el.style.display='flex';el.style.justifyContent='space-between';el.style.padding='6px 0';el.innerText = `${i.name} x${i.qty}`;
    const price = document.createElement('div'); price.innerText = 'R$ ' + (i.price * i.qty).toFixed(2);
    el.appendChild(price);
    itemsRoot.appendChild(el);
  });
  const total = list.reduce((s,i)=>s + (i.price*i.qty), 0);
  document.getElementById('checkout-total').innerText = total.toFixed(2);
}

document.getElementById('back-to-home').addEventListener('click', ()=>{ showView('landing'); });

/* ---------- Payment simulation ---------- */
document.getElementById('confirm-pay').addEventListener('click', ()=>{
  // validations
  const name = document.getElementById('c-name').value.trim();
  const street = document.getElementById('c-street').value.trim();
  const number = document.getElementById('c-number').value.trim();
  const city = document.getElementById('c-city').value.trim();
  const phone = document.getElementById('c-phone').value.trim();
  const ref = document.getElementById('c-ref').value.trim();
  const payment = document.getElementById('c-payment').value;

  if(!name||!street||!number||!city||!phone){
    return alert('Preencha os campos obrigatórios: nome, rua, número, cidade e telefone.');
  }

  const items = cart.length ? cart : [{ id:'plan', name: currentPlan ? 'Plano '+currentPlan.name : 'Pedido', qty:1, price: currentPlan ? currentPlan.price : 0 }];
  const total = items.reduce((s,i)=>s + i.price*i.qty,0);

  const order = {
    id: genId(),
    createdAt: new Date().toISOString(),
    items,
    total,
    customer: { customerName: name, street, number, reference: ref, city, phone },
    paymentMethod: payment,
    paid: true
  };

  orders.unshift(order);
  saveOrders(orders);
  localStorage.setItem('anotai_last_order', order.id);

  // clear cart/plan
  cart = [];
  currentPlan = null;
  renderCart(); renderProducts();

  // show success screen and set WhatsApp link
  const waLink = document.getElementById('wa-proof');
  const text = `Olá, quero enviar comprovante da minha compra. ID: ${order.id}`;
  waLink.href = `https://wa.me/${SUPPORT_PHONE}?text=${encodeURIComponent(text)}`;
  showView('success');
});

/* ---------- Success screen controls ---------- */
document.getElementById('go-manager').addEventListener('click', ()=> showView('manager'));
document.getElementById('back-home-2').addEventListener('click', ()=> showView('landing'));

/* ---------- Create store ---------- */
document.getElementById('create-store').addEventListener('click', ()=>{
  const slug = document.getElementById('store-slug').value.trim();
  const out = document.getElementById('store-created');
  if(!slug){ alert('Escolha um slug (ex: minha-lanchonete)'); return; }
  const example = `${window.location.origin}/store/${encodeURIComponent(slug)}`;
  out.style.display = ''; out.innerHTML = `<div class="small">Loja criada (exemplo): <a target="_blank" class="link" href="${example}">${example}</a></div>`;
});

/* ---------- Manager: render orders ---------- */
function renderOrders(){
  orders = loadOrders();
  const tbody = document.querySelector('#orders-table tbody');
  tbody.innerHTML = '';
  orders.forEach(o=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td style="font-weight:700">${o.id}</td>
      <td>${o.customer.customerName}</td>
      <td>${o.customer.city}</td>
      <td class="text-right">R$ ${o.total.toFixed(2)}</td>
      <td class="text-right"><button class="btn" data-open="${o.id}">Ver</button></td>`;
    tbody.appendChild(tr);
  });

  document.querySelectorAll('#orders-table button[data-open]').forEach(b=>{
    b.addEventListener('click', ()=> {
      const id = b.getAttribute('data-open');
      const ord = orders.find(x=>x.id===id);
      if(!ord) return alert('Pedido não encontrado');
      const items = ord.items.map(it => `${it.name} x${it.qty} R$ ${(it.price*it.qty).toFixed(2)}`).join('\\n');
      alert(`Pedido ${ord.id}\\nCliente: ${ord.customer.customerName}\\nTelefone: ${ord.customer.phone}\\nEndereço: ${ord.customer.street}, ${ord.customer.number}\\nCidade: ${ord.customer.city}\\n\\nItens:\\n${items}\\n\\nTotal: R$ ${ord.total.toFixed(2)}`);
    });
  });

  // reports
  const totalSales = orders.reduce((s,o)=>s + o.total, 0);
  document.getElementById('total-orders').innerText = orders.length;
  document.getElementById('total-sales').innerText = totalSales.toFixed(2);
  document.getElementById('report-sales').innerText = totalSales.toFixed(2);
  document.getElementById('report-count').innerText = orders.length;
}

/* ---------- Manager: search, export, open, NF ---------- */
document.getElementById('btn-export').addEventListener('click', ()=>{
  const json = JSON.stringify(loadOrders(), null, 2);
  // copy to clipboard
  navigator.clipboard.writeText(json).then(()=> alert('JSON copiado para área de transferência.'));
});

document.getElementById('btn-search').addEventListener('click', ()=>{
  const id = document.getElementById('search-id').value.trim();
  if(!id) return alert('Digite um ID');
  const o = orders.find(x=>x.id===id);
  if(!o) return alert('ID não encontrado');
  alert('Pedido: ' + id + '\\nCliente: ' + o.customer.customerName);
});

document.getElementById('btn-open').addEventListener('click', ()=>{
  const id = document.getElementById('detail-id').value.trim();
  if(!id) return alert('Digite um ID');
  const o = orders.find(x=>x.id===id);
  if(!o) return alert('ID não encontrado');
  const items = o.items.map(it => `${it.name} x${it.qty} R$ ${(it.price*it.qty).toFixed(2)}`).join('\\n');
  alert(`Pedido ${o.id}\\nCliente: ${o.customer.customerName}\\nTelefone: ${o.customer.phone}\\nEndereço: ${o.customer.street}, ${o.customer.number}\\n\\nItens:\\n${items}\\nTotal: R$ ${o.total.toFixed(2)}`);
});

document.getElementById('btn-nf').addEventListener('click', ()=>{
  const id = document.getElementById('detail-id').value.trim();
  if(!id) return alert('Digite um ID');
  const o = orders.find(x=>x.id===id);
  if(!o) return alert('ID não encontrado');
  // simple mock NF
  let nf = `--- NOTA FISCAL (MOCK) ---\\nID: ${o.id}\\nCliente: ${o.customer.customerName}\\nCPF/CNPJ: (cliente)\\nTotal: R$ ${o.total.toFixed(2)}\\nItens:\\n`;
  nf += o.items.map(i=>`- ${i.name} x${i.qty} R$ ${(i.price*i.qty).toFixed(2)}`).join('\\n');
  alert(nf);
});

/* ---------- Init ---------- */
renderProducts();
renderCart();
renderOrders();
showView('landing');

</script>
</body>
</html>

